{"ast":null,"code":"import{useReducer,useEffect}from\"react\";const initialState={loading:false,data:null,error:null};// 로딩중? 데이터 받기 성공? 데이터 받기 실패\n// LOADING , SUCCESS, ERROR\nfunction reducer(state,action){switch(action.type){case\"LOADING\":return{loading:true,data:null,error:null};case\"SUCCESS\":return{loading:false,data:action.data,error:null};case\"ERROR\":return{loading:false,data:null,error:action.error};default:return state;}}function useAsync(callback){let deps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];// console.log(\"useAsync진입: \", deps);\nconst[state,dispatch]=useReducer(reducer,initialState);const fetchDate=async()=>{dispatch({type:\"LOADING\"});try{const data=await callback();//callback은 getProduct()\n// console.log(\"어싱크data: \", data);\ndispatch({type:\"SUCCESS\",data:data});if(data==false){dispatch({type:\"ERROR\",error:\"강제에러\"});}}catch(e){dispatch({type:\"ERROR\",error:e});}};useEffect(()=>{// useEffect(()=>{}, [])는 처음 1회만 실행 \nfetchDate();// eslint-disable-next-line\n},deps);//deps는 빈배열([]) 34라인\nreturn[state,fetchDate];}export default useAsync;","map":{"version":3,"names":["useReducer","useEffect","initialState","loading","data","error","reducer","state","action","type","useAsync","callback","deps","arguments","length","undefined","dispatch","fetchDate","e"],"sources":["C:/Users/user/Desktop/WeddingRum-ec2/wedingrum/src/hooks/useAsync.js"],"sourcesContent":["import { useReducer, useEffect } from \"react\"\r\nconst initialState = {\r\n    loading: false,\r\n    data: null,\r\n    error: null\r\n}\r\n// 로딩중? 데이터 받기 성공? 데이터 받기 실패\r\n// LOADING , SUCCESS, ERROR\r\nfunction reducer(state, action){\r\n    switch(action.type) {\r\n        case \"LOADING\":\r\n            return {\r\n                loading: true,\r\n                data: null,\r\n                error: null\r\n            };\r\n        case \"SUCCESS\":\r\n            return {\r\n                loading: false,\r\n                data: action.data,\r\n                error: null\r\n            }\r\n        case \"ERROR\":\r\n            return {\r\n                loading: false,\r\n                data: null,\r\n                error: action.error\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction useAsync(callback, deps = []) {\r\n    // console.log(\"useAsync진입: \", deps);\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n    const fetchDate = async () => {\r\n        dispatch({type: \"LOADING\"});\r\n        try {\r\n            const data = await callback(); //callback은 getProduct()\r\n            // console.log(\"어싱크data: \", data);\r\n            dispatch({\r\n                type: \"SUCCESS\",\r\n                data: data\r\n            })\r\n            if(data==false){\r\n                dispatch({\r\n                    type: \"ERROR\",\r\n                    error: \"강제에러\"\r\n                })  \r\n            }\r\n        }\r\n        catch(e){\r\n            dispatch({\r\n                type: \"ERROR\",\r\n                error: e\r\n            })\r\n        }\r\n    }\r\n    useEffect(()=>{ // useEffect(()=>{}, [])는 처음 1회만 실행 \r\n        fetchDate();\r\n    // eslint-disable-next-line\r\n    }, deps); //deps는 빈배열([]) 34라인\r\n    return [state, fetchDate];\r\n}\r\nexport default useAsync"],"mappings":"AAAA,OAASA,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC7C,KAAM,CAAAC,YAAY,CAAG,CACjBC,OAAO,CAAE,KAAK,CACdC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,IACX,CAAC,CACD;AACA;AACA,QAAS,CAAAC,OAAOA,CAACC,KAAK,CAAEC,MAAM,CAAC,CAC3B,OAAOA,MAAM,CAACC,IAAI,EACd,IAAK,SAAS,CACV,MAAO,CACHN,OAAO,CAAE,IAAI,CACbC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,IACX,CAAC,CACL,IAAK,SAAS,CACV,MAAO,CACHF,OAAO,CAAE,KAAK,CACdC,IAAI,CAAEI,MAAM,CAACJ,IAAI,CACjBC,KAAK,CAAE,IACX,CAAC,CACL,IAAK,OAAO,CACR,MAAO,CACHF,OAAO,CAAE,KAAK,CACdC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAEG,MAAM,CAACH,KAClB,CAAC,CACL,QACI,MAAO,CAAAE,KAAK,CACpB,CACJ,CAEA,QAAS,CAAAG,QAAQA,CAACC,QAAQ,CAAa,IAAX,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CACjC;AACA,KAAM,CAACN,KAAK,CAAES,QAAQ,CAAC,CAAGhB,UAAU,CAACM,OAAO,CAAEJ,YAAY,CAAC,CAC3D,KAAM,CAAAe,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1BD,QAAQ,CAAC,CAACP,IAAI,CAAE,SAAS,CAAC,CAAC,CAC3B,GAAI,CACA,KAAM,CAAAL,IAAI,CAAG,KAAM,CAAAO,QAAQ,CAAC,CAAC,CAAE;AAC/B;AACAK,QAAQ,CAAC,CACLP,IAAI,CAAE,SAAS,CACfL,IAAI,CAAEA,IACV,CAAC,CAAC,CACF,GAAGA,IAAI,EAAE,KAAK,CAAC,CACXY,QAAQ,CAAC,CACLP,IAAI,CAAE,OAAO,CACbJ,KAAK,CAAE,MACX,CAAC,CAAC,CACN,CACJ,CACA,MAAMa,CAAC,CAAC,CACJF,QAAQ,CAAC,CACLP,IAAI,CAAE,OAAO,CACbJ,KAAK,CAAEa,CACX,CAAC,CAAC,CACN,CACJ,CAAC,CACDjB,SAAS,CAAC,IAAI,CAAE;AACZgB,SAAS,CAAC,CAAC,CACf;AACA,CAAC,CAAEL,IAAI,CAAC,CAAE;AACV,MAAO,CAACL,KAAK,CAAEU,SAAS,CAAC,CAC7B,CACA,cAAe,CAAAP,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}