{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import'./Products.scss';import ListIcon from'@mui/icons-material/List';import axios from'axios';import{API_URL}from'../../config/contansts';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ProdDetail=()=>{const[selectedImage,setSelectedImage]=useState(\"\");const[productDetails,setProductDetails]=useState({});const[detailDescription,setDetailDescription]=useState([]);const[detailPrice,setDetailPrice]=useState([]);const[detailType,setDetailType]=useState([]);const[galleryImages,setGalleryImages]=useState([]);const{id}=useParams();const goBack=()=>{window.history.back();};useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/api/products/detail/\").concat(id));if(!response.data||response.data.error){console.error('확실히 문제가 있어.');return;}setProductDetails(response.data);setSelectedImage(response.data.imageUrl);setDetailDescription(JSON.parse(response.data.detailDescription));setDetailPrice(JSON.parse(response.data.detailPrice));setDetailType(JSON.parse(response.data.detailType));setGalleryImages(JSON.parse(response.data.galleryImages));console.log(\"response.data: \",response.data);console.log(\"detailDescription: \",detailDescription);console.log(\"detailPrice: \",detailPrice);console.log(\"detailType: \",detailType);console.log(\"galleryImages: \",galleryImages);}catch(error){console.error('에러:',error);}};fetchData();},[id]);const handleThumbnailClick=image=>{setSelectedImage(image);};// if (!productDetails) {\n//   return <p>제발 되게 해주세요..</p>;\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"detail-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:API_URL+selectedImage,alt:\"Product\"}),/*#__PURE__*/_jsx(\"div\",{className:\"image-overlay\",children:Array.isArray(galleryImages)&&galleryImages.map((image,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail \".concat(selectedImage===image?'active':''),onClick:()=>handleThumbnailClick(image),children:/*#__PURE__*/_jsx(\"img\",{src:API_URL+image,alt:\"Thumbnail \".concat(index+1)})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"description-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"PRODUCTS \",'>',\" \",productDetails.category]}),/*#__PURE__*/_jsxs(\"button\",{className:\"list-button\",onClick:goBack,children:[/*#__PURE__*/_jsx(ListIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uBAA9\\uB85D\\uC73C\\uB85C\"})]})]}),/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'#ad5656'},children:[productDetails.title,\" \"]}),productDetails.name]}),/*#__PURE__*/_jsx(\"p\",{children:productDetails.description}),/*#__PURE__*/_jsx(\"div\",{className:\"details\",children:productDetails&&detailType.map((val,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"p\",{children:detailType[index]}),/*#__PURE__*/_jsx(\"span\",{className:\"description\",children:detailDescription[index]}),/*#__PURE__*/_jsxs(\"span\",{className:\"price\",children:[detailPrice[index].toLocaleString(),\"\\uC6D0\"]})]},index);// console.log(`반복테스크`, detailType[index]);\n})})]})]});};export default ProdDetail;","map":{"version":3,"names":["React","useState","useEffect","ListIcon","axios","API_URL","useParams","jsx","_jsx","jsxs","_jsxs","ProdDetail","selectedImage","setSelectedImage","productDetails","setProductDetails","detailDescription","setDetailDescription","detailPrice","setDetailPrice","detailType","setDetailType","galleryImages","setGalleryImages","id","goBack","window","history","back","fetchData","response","get","concat","data","error","console","imageUrl","JSON","parse","log","handleThumbnailClick","image","className","children","src","alt","Array","isArray","map","index","onClick","category","style","color","title","name","description","val","toLocaleString"],"sources":["C:/Users/user/Desktop/WeddingRum-ec2/wedingrum/src/pages/Products/ProdDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport './Products.scss';\r\nimport ListIcon from '@mui/icons-material/List';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../config/contansts';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst ProdDetail = () => {\r\n  const [selectedImage, setSelectedImage] = useState(\"\");\r\n  const [productDetails, setProductDetails] = useState({});\r\n  const [detailDescription, setDetailDescription] = useState([]); \r\n  const [detailPrice, setDetailPrice] = useState([]);\r\n  const [detailType, setDetailType] = useState([]);\r\n  const [galleryImages, setGalleryImages] = useState([]);\r\n  const { id } = useParams();\r\n\r\n  const goBack = () => {\r\n    window.history.back();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/api/products/detail/${id}`);\r\n        if (!response.data || response.data.error) {\r\n          console.error('확실히 문제가 있어.');\r\n          return;\r\n        }\r\n        setProductDetails(response.data);\r\n        setSelectedImage(response.data.imageUrl);\r\n        setDetailDescription(JSON.parse(response.data.detailDescription));\r\n        setDetailPrice(JSON.parse(response.data.detailPrice));\r\n        setDetailType(JSON.parse(response.data.detailType));\r\n        setGalleryImages(JSON.parse(response.data.galleryImages));\r\n        console.log(\"response.data: \", response.data);\r\n        console.log(\"detailDescription: \", detailDescription);\r\n        console.log(\"detailPrice: \", detailPrice);\r\n        console.log(\"detailType: \", detailType);\r\n        console.log(\"galleryImages: \", galleryImages);\r\n      } catch (error) {\r\n        console.error('에러:', error);\r\n      }\r\n    };\r\n\r\n\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  const handleThumbnailClick = (image) => {\r\n    setSelectedImage(image);\r\n  };\r\n\r\n  // if (!productDetails) {\r\n  //   return <p>제발 되게 해주세요..</p>;\r\n  // }\r\n\r\n  return (\r\n    <div className=\"detail-container\">\r\n      <div className=\"image-container\">\r\n        <img src={API_URL + selectedImage} alt=\"Product\" />\r\n        <div className=\"image-overlay\">\r\n          {Array.isArray(galleryImages) &&\r\n            galleryImages.map((image, index) => (\r\n              <div\r\n                key={index}\r\n                className={`thumbnail ${selectedImage === image ? 'active' : ''}`}\r\n                onClick={() => handleThumbnailClick(image)}\r\n              >\r\n                <img src={API_URL + image} alt={`Thumbnail ${index + 1}`} />\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className=\"description-container\">\r\n        <div className=\"header\">\r\n          <p>PRODUCTS {'>'} {productDetails.category}</p>\r\n          <button className=\"list-button\" onClick={goBack}>\r\n            <ListIcon /> \r\n            <span>목록으로</span>\r\n          </button>\r\n        </div>\r\n        <h1>\r\n          <span style={{ color: '#ad5656' }}>{productDetails.title} </span> \r\n          {productDetails.name}\r\n        </h1>\r\n        <p>{productDetails.description}</p>\r\n        <div className=\"details\">\r\n          {productDetails && \r\n            (detailType.map((val, index) => {\r\n              return(\r\n                <div className=\"detail\" key={index}>\r\n                  <p>{detailType[index]}</p>\r\n                  <span className=\"description\">{detailDescription[index]}</span>\r\n                  <span className=\"price\">{detailPrice[index].toLocaleString()}원</span>\r\n                </div>\r\n              )\r\n              // console.log(`반복테스크`, detailType[index]);\r\n            }))\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProdDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}