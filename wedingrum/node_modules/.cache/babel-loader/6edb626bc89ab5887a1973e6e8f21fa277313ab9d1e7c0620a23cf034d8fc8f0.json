{"ast":null,"code":"// Date4 컴포넌트\nimport React,{useEffect,useState}from'react';import LeftDate from'./leftDate';import{useRecoilState}from\"recoil\";import{startDateState,timeState,plannerState,pointState,contactChoiceState,themeState,plannerIdState}from\"../../../recoil/atoms/loginState\";import axios from'axios';import{API_URL}from'../../../config/contansts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Date4=()=>{const[planner,setPlanner]=useRecoilState(plannerState);//useState와 거의 비슷한 사용법\nconst[plannerId,setPlannerId]=useRecoilState(plannerIdState);//useState와 거의 비슷한 사용법\nconst[point,setpoint]=useRecoilState(pointState);//useState와 거의 비슷한 사용법\nconst[date,setDate]=useRecoilState(startDateState);//useState와 거의 비슷한 사용법\nconst[time,setTime]=useRecoilState(timeState);//useState와 거의 비슷한 사용법\nconst[contactChoice,setContactChoice]=useRecoilState(contactChoiceState);//useState와 거의 비슷한 사용법\nconst[theme,setTheme]=useRecoilState(themeState);//useState와 거의 비슷한 사용법\nconst[planners,setPlanners]=useState([]);useEffect(()=>{axios.get(\"\".concat(API_URL,\"/api/planner?point=\").concat(point)).then(res=>{setPlanners(res.data);console.log(res.data);}).catch(e=>{console.log(\"Planners.js/e: \",e);});},[]);const handleReservationClick=()=>{axios.post(\"\".concat(API_URL,\"/api/reservation\"),{plannerId,point,date,time,contactChoice,theme}).then(res=>{console.log(res);alert(\"예약 성공\");}).catch(e=>{console.log(\"Planners.js/handleReservationClick()/e: \",e);});};const handlePlannerChange=e=>{console.log(e.target.dataset.id);setPlanner(e.target.dataset.name);setPlannerId(e.target.dataset.id);// setPlanner({\n//   ...formData,\n//   [e.target.name]: e.target.value,\n// });\n};// const planners =[\n//   {profileImgUrl: \"/img/main4/4.png\", name:\"김준녕\", phone:\"000-0000-0000\", introduction:\"안녕하세요 상담 경력 5년차입니다 성싱하게 모실게요\"},\n//   {profileImgUrl: \"/img/main4/4.png\", name:\"김준녕\", phone:\"000-0000-0000\", introduction:\"안녕하세요 상담 경력 12년차입니다 정중하게 모실게요\"},\n//   {profileImgUrl: \"/img/main4/4.png\", name:\"김준녕\", phone:\"000-0000-0000\", introduction:\"안녕하세요 상담 경력 51년차입니다 내 가족처럼 모실게요\"}\n// ]\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"Date-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Date-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Date-warp\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Date-warp2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Date-tit\",children:/*#__PURE__*/_jsx(LeftDate,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Date-tit2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Date-tit3\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC6D0\\uD558\\uC2DC\\uB294 \\uC0C1\\uB2F4\\uC0AC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\"})}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"day-of-week-selector-container22\",children:planners.map(planner=>/*#__PURE__*/_jsxs(\"div\",{className:\"days-of-week\",children:[/*#__PURE__*/_jsx(\"img\",{src:API_URL+planner.profileImgUrl,alt:'사진'}),/*#__PURE__*/_jsxs(\"div\",{className:\"proname\",children:[/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(\"span\",{children:planner.name})}),/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"span\",{children:planner.phone})}),/*#__PURE__*/_jsx(\"div\",{className:\"introduction\",children:/*#__PURE__*/_jsx(\"h3\",{children:planner.introduction})}),/*#__PURE__*/_jsx(\"button\",{\"data-id\":planner.id,\"data-name\":planner.name,onClick:handlePlannerChange,children:\"\\uD655\\uC778\"})]})]},planner.name))})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReservationClick,children:\"\\uC608\\uC57D \\uD655\\uC815\"})]})]})})})})});};export default Date4;","map":{"version":3,"names":["React","useEffect","useState","LeftDate","useRecoilState","startDateState","timeState","plannerState","pointState","contactChoiceState","themeState","plannerIdState","axios","API_URL","jsx","_jsx","jsxs","_jsxs","Date4","planner","setPlanner","plannerId","setPlannerId","point","setpoint","date","setDate","time","setTime","contactChoice","setContactChoice","theme","setTheme","planners","setPlanners","get","concat","then","res","data","console","log","catch","e","handleReservationClick","post","alert","handlePlannerChange","target","dataset","id","name","children","className","map","src","profileImgUrl","alt","phone","introduction","onClick"],"sources":["C:/Users/user/Desktop/WeddingRum-ec2/wedingrum/src/pages/Reservations/Reservations/Planners.js"],"sourcesContent":["// Date4 컴포넌트\r\nimport React, { useEffect, useState } from 'react';\r\nimport LeftDate from './leftDate';\r\nimport { useRecoilState } from \"recoil\";\r\nimport { startDateState, timeState, plannerState, pointState, contactChoiceState, themeState, plannerIdState } from \"../../../recoil/atoms/loginState\";\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../../config/contansts';\r\n\r\nconst Date4 = () => {\r\n  const [planner, setPlanner] = useRecoilState(plannerState); //useState와 거의 비슷한 사용법\r\n  const [plannerId, setPlannerId] = useRecoilState(plannerIdState); //useState와 거의 비슷한 사용법\r\n  const [point, setpoint] = useRecoilState(pointState); //useState와 거의 비슷한 사용법\r\n  const [date, setDate] = useRecoilState(startDateState); //useState와 거의 비슷한 사용법\r\n  const [time, setTime] = useRecoilState(timeState); //useState와 거의 비슷한 사용법\r\n  const [contactChoice, setContactChoice] = useRecoilState(contactChoiceState); //useState와 거의 비슷한 사용법\r\n  const [theme, setTheme] = useRecoilState(themeState); //useState와 거의 비슷한 사용법\r\n  const [planners, setPlanners] = useState([]);\r\n\r\n  useEffect(()=>{\r\n    axios.get(`${API_URL}/api/planner?point=${point}`)\r\n      .then(res => {\r\n        setPlanners(res.data)\r\n        console.log(res.data);\r\n      }).catch(e => {\r\n        console.log(\"Planners.js/e: \",e);\r\n      })\r\n  },[])\r\n\r\n  const handleReservationClick = () => {\r\n    axios.post(`${API_URL}/api/reservation`, {plannerId, point, date, time, contactChoice, theme})\r\n      .then(res => {\r\n        console.log(res);\r\n        alert(\"예약 성공\");\r\n      }).catch(e => {\r\n        console.log(\"Planners.js/handleReservationClick()/e: \",e);\r\n      })\r\n  }\r\n\r\n  const handlePlannerChange = (e) => {\r\n    console.log(e.target.dataset.id);\r\n    setPlanner(e.target.dataset.name);\r\n    setPlannerId(e.target.dataset.id);\r\n    // setPlanner({\r\n    //   ...formData,\r\n    //   [e.target.name]: e.target.value,\r\n    // });\r\n  };\r\n\r\n  // const planners =[\r\n  //   {profileImgUrl: \"/img/main4/4.png\", name:\"김준녕\", phone:\"000-0000-0000\", introduction:\"안녕하세요 상담 경력 5년차입니다 성싱하게 모실게요\"},\r\n  //   {profileImgUrl: \"/img/main4/4.png\", name:\"김준녕\", phone:\"000-0000-0000\", introduction:\"안녕하세요 상담 경력 12년차입니다 정중하게 모실게요\"},\r\n  //   {profileImgUrl: \"/img/main4/4.png\", name:\"김준녕\", phone:\"000-0000-0000\", introduction:\"안녕하세요 상담 경력 51년차입니다 내 가족처럼 모실게요\"}\r\n  // ]\r\n\r\n  return (\r\n    <div>\r\n      <div className='Date-container'>\r\n        <div className='Date-content'>\r\n          <div className='Date-warp'>\r\n            <div className='Date-warp2'>\r\n              <div className='Date-tit'>\r\n                <LeftDate />\r\n              </div>\r\n              <div className='Date-tit2'>\r\n                <div className='Date-tit3'>\r\n                  <h3>원하시는 상담사를 선택해주세요.</h3>\r\n                </div>\r\n                <ul>\r\n                  <div className=\"day-of-week-selector-container22\">\r\n                    {planners.map(planner => (\r\n                      <div key={planner.name} className=\"days-of-week\">\r\n                          <img src={API_URL + planner.profileImgUrl} alt={'사진'} />\r\n                          <div className='proname'>\r\n                            <h1><span>{planner.name}</span></h1>\r\n                            <h2><span>{planner.phone}</span></h2>\r\n                            <div className='introduction'>\r\n                              <h3>{planner.introduction}</h3>\r\n                            </div>\r\n                            <button data-id={planner.id} data-name={planner.name} onClick={handlePlannerChange}>확인</button>\r\n                          </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </ul>\r\n                <button onClick={handleReservationClick}>예약 확정</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Date4;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}