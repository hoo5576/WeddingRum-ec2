{"ast":null,"code":"import React from'react';import'./Login.scss';import axios from'axios';import{API_URL}from'../../config/contansts';import{useNavigate}from'react-router-dom';import{useRecoilState}from\"recoil\";import{loginState}from\"../../recoil/atoms/loginState\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[islogin,setIslogin]=useRecoilState(loginState);//useState와 거의 비슷한 사용법\nconst navigate=useNavigate();const onLogin=async e=>{e.preventDefault();const id=e.target.id.value;const pwd=e.target.pwd.value;console.log(\"id: \",id);console.log(\"pwd: \",pwd);const res=await axios.post(\"\".concat(API_URL,\"/api/user/login\"),{id,pwd},{withCredentials:true}// { profile: { id, pwd } }, \n);console.log(\"login_res: \",res);if(res.status===200){setIslogin(true);console.log(\"islogin: \",islogin);navigate(\"/\");}console.log(\"Login.res: \",res.status);};return/*#__PURE__*/_jsxs(\"form\",{id:\"login-form\",onSubmit:onLogin,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"MEMBER\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"p\",{children:\"test \\uC544\\uC774\\uB514: 123\"}),/*#__PURE__*/_jsx(\"p\",{children:\"test \\uBE44\\uBC00\\uBC88\\uD638: 123\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"login-input\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"id\",type:\"text\",placeholder:\"\\uC544\\uC774\\uB514\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"pwd\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\"})})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"login-btn\",children:\"LOGIN\"})}),/*#__PURE__*/_jsxs(\"li\",{id:\"find-id-form\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/join\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/find-id\",children:\"\\uC544\\uC774\\uB514/\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"})]})]});};export default Login;","map":{"version":3,"names":["React","axios","API_URL","useNavigate","useRecoilState","loginState","jsx","_jsx","jsxs","_jsxs","Login","islogin","setIslogin","navigate","onLogin","e","preventDefault","id","target","value","pwd","console","log","res","post","concat","withCredentials","status","onSubmit","children","type","placeholder","href"],"sources":["C:/Users/user/Desktop/WeddingRum-ec2/wedingrum/src/pages/Login/Login.js"],"sourcesContent":["import React from 'react';\r\nimport './Login.scss'\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../config/contansts'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useRecoilState } from \"recoil\";\r\nimport { loginState } from \"../../recoil/atoms/loginState\";\r\n\r\nconst Login = () => {\r\n    const [islogin, setIslogin] = useRecoilState(loginState); //useState와 거의 비슷한 사용법\r\n    const navigate = useNavigate();\r\n    const onLogin = async (e) => {\r\n        e.preventDefault();\r\n        const id = e.target.id.value;\r\n        const pwd = e.target.pwd.value;\r\n        console.log(\"id: \", id);\r\n        console.log(\"pwd: \", pwd);\r\n        const res = await axios.post(\r\n            `${API_URL}/api/user/login`, \r\n            {id, pwd},\r\n            { withCredentials: true },\r\n            // { profile: { id, pwd } }, \r\n        );\r\n        console.log(\"login_res: \", res);\r\n        if (res.status === 200) {\r\n            setIslogin(true);\r\n            console.log(\"islogin: \", islogin);\r\n            navigate(\"/\")\r\n        }\r\n        console.log(\"Login.res: \",res.status);\r\n    }\r\n    return (\r\n            <form id=\"login-form\" onSubmit={onLogin}>\r\n                <h3>MEMBER</h3>\r\n                <h1>로그인</h1>\r\n                <p>test 아이디: 123</p>\r\n                <p>test 비밀번호: 123</p>\r\n                <div id=\"login-input\">\r\n                    <li><input id=\"id\" type=\"text\" placeholder='아이디'/></li>\r\n                    <li><input id=\"pwd\" type=\"password\" placeholder='비밀번호'/></li>\r\n                </div>\r\n                \r\n                <li>\r\n                    <button type=\"submit\" id='login-btn'>LOGIN</button>\r\n                </li>\r\n\r\n                <li id='find-id-form'>\r\n                    <a href=\"/join\">회원가입</a>\r\n                    <a href=\"/find-id\">아이디/비밀번호 찾기</a>\r\n                </li>\r\n\r\n            </form>\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}